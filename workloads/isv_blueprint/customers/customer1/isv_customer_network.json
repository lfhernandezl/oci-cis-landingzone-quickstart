{
  "network_configuration" : {
    "default_enable_cis_checks" : true,
    "default_compartment_id"    : "CUSTOMER-1",
    "network_configuration_categories" : {
      "production" : {
        "vcns" : {
          "VCN-1" : {
            "display_name"                     : "customer-1-vcn",
            "is_ipv6enabled"                   : false,
            "is_oracle_gua_allocation_enabled" : false,
            "cidr_blocks"                      : ["10.0.0.0/25"],
            "dns_label"                        : "customer1vcn",
            "block_nat_traffic"                : false,

            "subnets" : {
              "FRONT-SUB" : {
                "cidr_block"                 : "10.0.0.0/27",
                "dhcp_options_key"           : "default_dhcp_options",
                "display_name"               : "front-sub",
                "dns_label"                  : "front",
                "ipv6cidr_blocks"            : [],
                "prohibit_internet_ingress"  : true,
                "prohibit_public_ip_on_vnic" : true,
                "route_table_key"            : "FRONT-SUB-ROUTE",
                "security_list_keys"         : ["BASIC-SL"]
              },
              "MID-SUB" : {
                "cidr_block"                 : "10.0.0.32/27",
                "dhcp_options_key"           : "default_dhcp_options",
                "display_name"               : "mid-sub",
                "dns_label"                  : "mid",
                "ipv6cidr_blocks"            : [],
                "prohibit_internet_ingress"  : true,
                "prohibit_public_ip_on_vnic" : true,
                "route_table_key"            : "MID-SUB-ROUTE",
                "security_list_keys"         : ["BASIC-SL"]
              },
              "BACK-SUB" : {
                "cidr_block"                 : "10.0.0.64/27",
                "dhcp_options_key"           : "default_dhcp_options",
                "display_name"               : "back-sub",
                "dns_label"                  : "back",
                "ipv6cidr_blocks"            : [],
                "prohibit_internet_ingress"  : true,
                "prohibit_public_ip_on_vnic" : true,
                "route_table_key"            : "BACK-SUB-ROUTE",
                "security_list_keys"         : ["BASIC-SL"]
              }
            },

            "security_lists" : {
              "BASIC-SL" : {
                "display_name" : "basic-sl",
                "ingress_rules" : [
                  {
                    "description"  : "Ingress on UDP type 3 code 4.",
                    "stateless"    : false,
                    "protocol"     : "UDP",
                    "src"          : "0.0.0.0/0",
                    "src_type"     : "CIDR_BLOCK",
                    "icmp_type"    : 3,
                    "icmp_code"    : 4
                  }
                ],
                "egress_rules" : []
              }
            },

            "route_tables" : {
              "FRONT-SUB-ROUTE" : {
                "display_name" : "front-sub-route",
                "route_rules" : {
                  "DRG-RULE" : {
                    "network_entity_id" : "CENTRAL-HUB-DRG",
                    "description"        : "To DRG.",
                    "destination"        : "0.0.0.0/0",
                    "destination_type"   : "CIDR_BLOCK"
                  }
                }
              },
              "MID-SUB-ROUTE" : {
                "display_name" : "mid-sub-route",
                "route_rules" : {
                  "DRG-RULE" : {
                    "network_entity_id" : "CENTRAL-HUB-DRG",
                    "description"        : "To DRG.",
                    "destination"        : "0.0.0.0/0",
                    "destination_type"   : "CIDR_BLOCK"
                  }
                }
              },
              "BACK-SUB-ROUTE" : {
                "display_name" : "back-sub-route",
                "route_rules" : {
                  "DRG-RULE" : {
                    "network_entity_id" : "CENTRAL-HUB-DRG",
                    "description"        : "To DRG.",
                    "destination"        : "0.0.0.0/0",
                    "destination_type"   : "CIDR_BLOCK"
                  }
                }
              }
            },

            "network_security_groups" : {
              "FRONT-NSG" : {
                "display_name" : "front-nsg",
                "ingress_rules" : {
                  "FROM-ANYWHERE-HTTP" : {
                    "description"  : "Ingress from 0.0.0.0/0 on HTTP port 443.",
                    "stateless"    : false,
                    "protocol"     : "TCP",
                    "src"          : "0.0.0.0/0",
                    "src_type"     : "CIDR_BLOCK",
                    "dst_port_min" : 443,
                    "dst_port_max" : 443
                  },
                  "FROM-ON-PREM-SSH" : {
                    "description"  : "Ingress from on-prem on SSH port 22.",
                    "stateless"    : false,
                    "protocol"     : "TCP",
                    "src"          : "192.168.0.64/26",
                    "src_type"     : "CIDR_BLOCK",
                    "dst_port_min" : 22,
                    "dst_port_max" : 22
                  }
                },
                "egress_rules" : {
                  "TO-MID-NSG" : {
                    "description" : "Egress to Mid NSG.",
                    "stateless"   : false,
                    "protocol"    : "TCP",
                    "dst"         : "MID-NSG",
                    "dst_type"    : "NETWORK_SECURITY_GROUP"
                  },
                  "TO-OSN" : {
                    "description" : "Egress to Oracle Services Network.",
                    "stateless"   : false,
                    "protocol"    : "TCP",
                    "dst"         : "all-services",
                    "dst_type"    : "SERVICE_CIDR_BLOCK"
                  }
                }
              },

              "MID-NSG" : {
                "display_name" : "mid-nsg",
                "ingress_rules" : {
                  "FROM-LBR-NSG" : {
                    "description"  : "Ingress from Front NSG",
                    "stateless"    : false,
                    "protocol"     : "TCP",
                    "src"          : "FRONT-NSG",
                    "src_type"     : "NETWORK_SECURITY_GROUP",
                    "dst_port_min" : 80,
                    "dst_port_max" : 80
                  },
                  "FROM-ON-PREM-SSH" : {
                    "description"  : "Ingress from on-prem on SSH port 22.",
                    "stateless"    : false,
                    "protocol"     : "TCP",
                    "src"          : "192.168.0.64/26",
                    "src_type"     : "CIDR_BLOCK",
                    "dst_port_min" : 22,
                    "dst_port_max" : 22
                  }
                }, 
                "egress_rules" : {
                  "TO-BACK-NSG" : {
                    "description" : "Egress to Back NSG",
                    "stateless"   : false,
                    "protocol"    : "TCP",
                    "dst"         : "BACK-NSG",
                    "dst_type"    : "NETWORK_SECURITY_GROUP"
                  },
                  "TO-OSN" : {
                    "description" : "Egress to Oracle Services Network.",
                    "stateless"   : false,
                    "protocol"    : "TCP",
                    "dst"         : "all-services",
                    "dst_type"    : "SERVICE_CIDR_BLOCK"
                  }
                }
              },

              "BACK-NSG" : {
                "display_name" : "back-nsg",
                "ingress_rules" : {
                  "FROM-MID-NSG" : {
                    "description"  : "Ingress from Mid NSG",
                    "stateless"    : false,
                    "protocol"     : "TCP",
                    "src"          : "MID-NSG",
                    "src_type"     : "NETWORK_SECURITY_GROUP",
                    "dst_port_min" : 1521,
                    "dst_port_max" : 1521
                  },
                  "FROM-ON-PREM-SSH" : {
                    "description"  : "Ingress from on-prem on SSH port 22.",
                    "stateless"    : false,
                    "protocol"     : "TCP",
                    "src"          : "192.168.0.64/26",
                    "src_type"     : "CIDR_BLOCK",
                    "dst_port_min" : 22,
                    "dst_port_max" : 22
                  }
                },  
                "egress_rules" : {
                  "TO-OSN" : {
                    "description" : "Egress to Oracle Services Network.",
                    "stateless"   : false,
                    "protocol"    : "TCP",
                    "dst"         : "all-services",
                    "dst_type"    : "SERVICE_CIDR_BLOCK"
                  }
                }
              }
            }
          }
        },

        "non_vcn_specific_gateways" : {
          "inject_into_existing_drgs" : {
            "CENTRAL-HUB-INJECT" : {
              "drg_id" : "CENTRAL-HUB-DRG",
              "drg_attachments" : {
                "VCN-ATTACH" : {
                  "display_name" : "customer-1-vcn-attachment",
                  "drg_route_table_key" : "DRG-ROUTE",
                  "network_details" : {
                    "attached_resource_key" : "VCN-1",
                    "type" : "VCN"
                  }
                }
              },
              "drg_route_tables" : {
                "DRG-ROUTE" : {
                  "display_name" : "customer-1-drg-route",
                  "import_drg_route_distribution_key" : "IMPORT-ROUTE-DISTRIBUTION"
                }
              }, 
              "drg_route_distributions" : {
                "IMPORT-ROUTE-DISTRIBUTION" : {
                  "display_name" : "customer-1-vcn-route-distribution",
                  "distribution_type" : "IMPORT",
                  "statements" : {
                    "CENTRAL-HUB-VCN-STMT" : {
                      "action" : "ACCEPT",
                      "priority" : 1,
                      "match_criteria" : {
                        "match_type" : "DRG_ATTACHMENT_ID",
                        "attachment_type" : "VCN",
                        "drg_attachment_id" : "ocid1.drgattachment.oc1.phx.aaaaaaaaie2sgsctuw2qc5dazhczrtgk6oen4ixati2lugng5o4ejfdcetwa"
                      }
                    }
                  }
                }
              }
            }   
          }
        }
      }
    }
  }
}